<!DOCTYPE html>
<html lang="en">
<head>
    {% load static %}
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>MusicIA - 1.1</title>
    <script src="https://code.jquery.com/jquery-3.7.1.min.js"></script>
    <script src="{% static 'home/script.js' %}"></script>
    <script src="https://unpkg.com/htmx.org@1.9.12"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/wavesurfer.js/7.7.15/wavesurfer.min.js"></script>
    <link rel="stylesheet" crossorigin href="https://dds.dell.com/components/2.41.0/css/dds-icons.min.css" />
    <link rel="stylesheet" href="{% static 'home/style.css' %}">
    <link rel="shortcut icon" type="image/png" href="{% static 'home/favicon.ico' %}"/>
    <link rel="stylesheet" href="{% static 'home/styleL.css' %}">
    <link rel="stylesheet" href="{% static 'home/virtual-select.min.css' %}">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Roboto:ital,wght@0,100;0,300;0,400;0,500;0,700;0,900&display=swap" rel="stylesheet">
    <script src="{% static 'home/virtual-select.min.js' %}"></script>
    <script>
        $(document).ready(function() {
            console.log('Document is ready');
            $(".gen").on("click", function() {
                lazyLoad()
            });
        });
    </script>
</head>
<body>
    <nav>
        <div class="left-nav">
            <img src="{% static 'home/logo-delltech-header-white-300x39_1.png' %}" alt="logo dell">
            <p>|</p>
            <p>MUSICIA</p>
        </div>
        <div>
            <p data-index="0" class="navig">ACCUEIL</p>
            <p data-index="1" class="navig">EXEMPLES</p>
            <P data-index="2" class="navig">FONCTIONNEMENT</P>
            <P data-index="4" class="navig">NOUS</P>

        </div>
        <div class="right-nav">
            <img src="{% static 'home/upvm3.png' %}" alt="logo paul va" height="40px">
            <img src="{% static 'home/miashs_logo.png' %}" alt="logo miashs" height="65">
        </div>
    </nav>

    <div id="camera-overlay" style="display:none"></div>
    
    <div class="progress-container">
        <div class="progress-bar" id="progress-bar"></div>
    </div>
    <div class="page-indicator" id="page-indicator">
        <div class="page active" data-index="0">
            <div class="dot"></div>
            <span>Accueil</span>
        </div>
        <div class="page" data-index="1">
            <div class="dot"></div>
            <span>Exemples</span>
        </div>
        <div class="page" data-index="2">
            <div class="dot"></div>
            <span>Fonctionnement</span>
        </div>
        <div class="page" data-index="3">
            <div class="dot"></div>
            <span>Qui sommes-nous ?</span>
        </div>
    </div>
    
    <div class="snaping" id="sn">
        <div class="snaping-element" id="sn-0">
            <div id="head-projet">
                <h1>Projet MusicIA</h1>
                <p>Le Projet MusicIA est une solution innovante qui permet de générer de la musique à partir d'un simple prompt textuel. 
                    Utilisant des algorithmes avancés d'intelligence artificielle, cette plateforme traduit des descriptions et des instructions en compositions musicales uniques et personnalisées.
                    Morceaux originaux pour des films, des jeux vidéo, ou tout autre projet créatif, MusicIA offre une approche révolutionnaire pour transformer les idées en réalité sonore, l'outil parfait pour les musiciens et créateurs de contenue.
                </p>
            </div>

            <div id="playground">
                <h2>À vous de jouer !</h2>
                <div id="generator">
                    <div class="section">
                        <p>Générez depuis votre propre prompt</p>
                        <label for="prompt">Écrivez une phrase pour décrire la musique que vous voulez entendre</label>
                        <input type="text" name="prompt" id="prompt" placeholder="Par exemple : 'melancolic hard rock with huge bass'">
                        <label for="name">Votre nom pour la gloire</label>
                        <input type="text" name="name" id="name" placeholder="Pour être exposé dans notre galerie d'art !">
                        <input class="gen" type="button" value="GÉNÉRER" hx-get="api" hx-trigger="click" hx-swap-oob="true" hx-vals="js:{prompt: getValue('prompt'), name: getValue('name')}">
                    </div>

                    <div class="trait"></div>

                    <div class="section">
                        <p>Générez depuis des paramètres</p>
                        <label for="instruments">Instruments</label>
                        <div id="instruments"></div>
                        <script>
                            myOptions = [
                                { label: 'Guitare', value: 'guitar'},
                                { label: 'Batterie', value: 'drums'},
                                { label: 'Piano', value: 'piano'},
                                { label: 'Basse', value: 'bass'},
                                { label: 'Violon', value: 'violin'},
                                { label: 'Flûte', value: 'flute'},
                                { label: 'Orchestre', value: 'orchestra'},
                            ]
                            VirtualSelect.init({ 
                                ele: '#instruments',
                                options: myOptions,
                                multiple: true,
                                search: false,
                            });
                        </script>
                        <div class="section dual">
                            <div class="section">
                                <label for="genre">Genre</label>
                                <select name="genre" id="genre">
                                    <option value="" selected>Aléatoire</option>
                                    <option value="rock">Rock</option>
                                    <option value="jazz">Jazz</option>
                                    <option value="rap">Rap</option>
                                    <option value="classic">Classique</option>
                                    <option value="metal">Metal</option>
                                    <option value="pop">Pop</option>
                                </select>
                            </div>
                            <div class="section">
                                <label for="emotion">Émotion</label>
                                <select name="emotion" id="emotion">
                                    <option id="emo0" value="" selected>Neutre</option>
                                    <option id="emo1" value="joyful">Joyful</option>
                                    <option id="emo2" value="happy">Happy</option>
                                    <option id="emo3" value="sad">Sad</option>
                                    <option id="emo4" value="melancolic">Melancolic</option>
                                    <option id="emo5" value="angry">Angry</option>
                                    <option id="emo6" value="enrageous">Enrageous</option>
                                </select>
                            </div>
                            <span class="cam-button dds__icon dds__icon--camera" hx-get="/setupcam" hx-trigger="click" hx-target="#camera-overlay" hx-swap="outerHTML"></span>
                        </div>
                        <label for="name">Votre nom pour la gloire</label>
                        <input type="text" name="name" id="name" placeholder="Pour la postérité...">
                        <input class="gen" type="button" value="GÉNÉRER" hx-get="categ" hx-trigger="click" hx-swap-oob="true" hx-vals="js:{instruments: getValue('instruments'), genre: getValue('genre'), emotion: getValue('emotion'), name: getValue('name')}">
                    </div>
                </div>

                <div id="htmxresult" style="display: none;">
                    <p class="small-title">Résultat</p>
                    <div class="result-audio">
                        <audio id="audio-result" src="media/HBQSY.wav" type="audio/wav"></audio> 
                        <div id="playbutton-result" class="playbutton dds__icon dds__icon--play-cir"></div>
                        <div id="spectrum-result"></div>
                        <p id="caption-result">CECI EST UN BRAQUAGE</p>
                        <div id="myProgress">
                            <div id="myBar"></div>
                        </div>
                    </div>
                    <script>
                        addAudioWave("result", 50)             
                    </script>
                </div>
            </div>
        </div>
        <div class="snaping-element" style="background-color: #0C32A4;" id="sn-1">
            <h2 class="wr-page2">Démonstrations</h2>
            <div id="demo-container" class="demonstrations">
                {% for audio in audio_files %}
                    <div class="small-result-audio">
                        <p>Créé par : {{ audio.user }}</p>
                        <audio id="audio-{{ audio.id }}" src="{{ audio.url }}"></audio>
                        <div id="playbutton-{{ audio.id }}" class="dds__icon dds__icon--play-cir playbutton"></div>
                        <div id="spectrum-{{ audio.id }}"></div>
                        <p>{{ audio.prompt }}</p>
                        <script>
                            addAudioWave("{{ audio.id }}", 30)     
                            addControls("{{ audio.id }}")        
                        </script>
                    </div>
                {% endfor %}
            </div>
        </div>
        <div class="snaping-element" id="fonctionnement">
            <h2 class="fonctionnement-title">Fonctionnement</h2>
            <div class="fonctionnement-container">
                <div class="fonctionnement-card">
                    <div class="fonctionnement-card-inner">
                        <div class="fonctionnement-card-front">
                            <img src="{% static 'home/icon-description.png' %}" alt="Description">
                            <h3>Étape 1: Description</h3>
                            <p>MusicIA, c'est quoi ?</p>
                        </div>
                        <div class="fonctionnement-card-back">
                            <p>Le Projet MusicIA est une solution innovante qui permet de générer de la musique à partir d'un simple prompt textuel. 
                                Utilisant des algorithmes avancés d'intelligence artificielle, cette plateforme traduit des descriptions et des instructions en compositions musicales uniques et personnalisées. 
                                Morceaux originaux pour des films, des jeux vidéo, ou tout autre projet créatif, MusicIA offre une approche révolutionnaire pour transformer les idées en réalité sonore.</p>
                        </div>
                    </div>
                </div>
                <div class="fonctionnement-card">
                    <div class="fonctionnement-card-inner">
                        <div class="fonctionnement-card-front">
                            <img src="{% static 'home/icon-ai.png' %}" alt="Traitement AI">
                            <h3>Étape 2: Traitement IA</h3>
                            <p>Comment ça marche ?</p>
                        </div>
                        <div class="fonctionnement-card-back">
                            <p>Après l'envoie du prompt, il est apprehendé et traité par l'algorithme de création de musique '<a href="https://huggingface.co/papers/2306.05284" target="_blank">MUSICGEN</a>' de MetaLab. <br>
                                La plateforme génère la musique en utilisant des échantillons de haute qualité, mixant les différents éléments pour correspondre à votre description. <br>
                                Chaque morceau est unique !</p>
                        </div>
                    </div>
                </div>
                <div class="fonctionnement-card">
                    <div class="fonctionnement-card-inner">
                        <div class="fonctionnement-card-front">
                            <img src="{% static 'home/icon-generation.png' %}" alt="Génération">
                            <h3>Étape 3: Génération</h3>
                            <p>Et ensuite ?</p>
                        </div>
                        <div class="fonctionnement-card-back">
                            <p>Une fois la génération fini, pour garder une trace de vos créations, votre nom, le prompt ainsi que le son généré sont ajouté <br>
                            dans notre base de donnée et affiché dans la section exemple du site.</p>
                        </div>
                    </div>
                </div>
            </div>
        </div>
        <div class="snaping-element">
            <h2 class="wr-page3">L'équipe</h2>
            <div class="content-wrapper">
                <div class="left-frame">
                    <div class="inner-frame">
                        <div class="numero numero1">
                            <div class="fenetre">
                                <h3>L'équipe</h3>
                                <img src="{% static 'home/photo_dell.jpg' %}" height="300px" style="object-fit: contain;">

                                <p class="full-content">Lucas Triozon ( à gauche) et Idriss Makroum (à droite), étudiants en troisème année de Licence MIASHS (Mathématiques informatiques appliqués aux sciences humaines et sociales) à l'Université Paul Valéry Montpellier 3
                                    sont fiers de vous presenter le projet musicIA.</p>

                            </div>
                        </div>
                        <div class="numero numero2">
                            <div class="fenetre">
                                <h3>La Licence MIASHS</h3>
                                <img src="{% static 'home/paulva_campus.jpg' %}" height="300px">
                                
                                <p class="full-content">La licence Miashs est une formation qui regroupe un ensemble de domaines scientifiques liés au traitement de l’information autour d’un objectif commun : 
                                    l’étude des données issues des sciences humaines et sociales.
                                    C’est une formation pluridisciplinaire en trois ans dont la forte composante en traitement de l’information s’appuie sur l’informatique, les mathématiques et la statistique (MIA).<br>
                                    L’objectif de cette licence est donc de former des diplômés, interlocuteurs avertis capables de discuter avec des spécialistes des données SHS et des spécialistes informaticiens ou statisticiens afin d’arbitrer les choix technologiques.</p>

                            </div>
                        </div>
                    </div>
                </div>
                <div class="right-frame">
                    <div class="paulva">
                        <h3>Paul Valéry / Licence MIASHS</h3>
                        <img src="{% static 'home/upvm3.png' %}" alt="logo paul va" height="100px">
                        <img src="{% static 'home/miashs_logo.png' %}" alt="logo miashs" height="100px">
                    </div>
                </div>
            </div>
        </div>
    </div>
</body>
</html>
